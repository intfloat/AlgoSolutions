# 总结

边听音乐边吃东西边比赛……规定时间是4小时，我也就做了不到2小时，测了样例就直接提交了，等了很久很久终于出成绩了……最后967分（满分1000），最后一题有一组数据错了，其他都正确，顺利晋级Silver level~~

## Problem 1：Cow Race

大意是小牛赛跑，不同时段的速度有所不同，问领先者发生了几次更换。

我是一个时间单位一个时间单位得去模拟的，总时间不长，所以还可以接受。需要注意的边界情况就是：两头牛齐头并进的时候，此时并没有发生领先者的更换；二是最开始的时候，也不算在领先者更换的范围之内。

## Problem 2：Breed Proximity

大意是一群牛（很好奇美国人怎么这么喜欢拿牛开涮……）站在一起，每头牛都有一个ID编号，要求出间距小于给定值并且最大的ID号。

最朴素的办法自然是去循环枚举，但牛的数目可以达到50000，O(nK)的复杂度偏大。我的办法是先进行排序，按照ID从小到大拍，相同ID的按照原始位置排序。然后从后往前进行扫描，找到第一对间隔小于K的牛即为最终结果，扫描到头还没发现则不存在解，复杂度为O(nlgn)。

## Problem 3： 

又是牛……给出各对牛之间的关系（相同品种或者不同品种），然后求共有多少可能的品种组合。

最简单的办法是枚举所有可能性，但3^15是1s内算不完的，考虑到对称性，可以假定第一头牛的品种，最后结果乘以3即可。我想到的另一个优化办法就是：如果一头牛没有说明和其他牛的关系，那么它就可以取3中不同的值，在最终的结果中起到了乘以3的作用。对于其他的，可以建成一个无向图，用floyd算法检查是否存在矛盾（利用“相同品种”具有传递性，不同品种则不具有传递性），若条件有矛盾则结果为0。然后深度搜索来枚举剩下的牛即可。

一开始提交的代码错了一个数据，后来发现是在floyd算法更新时漏了两种情况：如果A和B品种相同，B和C品种不同，那么A和C品种一定不同……另一种情况类似，是A、B不同，B、C相同。


收获还是有的，美国人的这种选拔方式更开放一点，外国人也可以参加，规模相对也小一点，主要还是看个人兴趣。不像中国，各校都有集训队……
